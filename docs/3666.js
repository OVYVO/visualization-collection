"use strict";(self.webpackChunkvisualization_collection=self.webpackChunkvisualization_collection||[]).push([[3666],{63666:(e,a,i)=>{i.r(a),i.d(a,{default:()=>E});var s=i(96540),t=i(6442),d=i(40961),n=i(75862),r=i(79045),c=i(46935);const l="Page1_container__8IHn6",o="Page1_content__zgPdQ",p="Page1_top__Tik59",g="Page1_title__qIkYy",m="Page1_author__EVTso",h="Page1_appoint__gEum0",x="Page1_articleContent__STpiB",v="Page1_subTitle__g0Ill",f="Page1_codeBox__hf4Aw",j="Page1_strong__Um16S";var u=i(74848);const P=e=>{const a=(0,t.A)(),{showPageIndex:i}=e;return(0,u.jsx)("div",{className:l,children:(0,u.jsxs)("div",{className:o,children:[(0,u.jsxs)("div",{className:p,children:[(0,u.jsx)("div",{className:g,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.title"})}),(0,u.jsx)("div",{className:m,children:"".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.author"}),": River")})]}),(0,u.jsxs)("div",{className:h,children:[(0,u.jsx)("div",{children:"".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.appoint"}),":")}),(0,u.jsx)("div",{children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.appointText1"})}),(0,u.jsx)("div",{children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.appointText2"})})]}),(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("div",{className:v,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.subTitle1"})}),(0,u.jsx)("div",{children:"".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.des1"}),":")}),(0,u.jsxs)("div",{className:f,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.codeBox1.text"}))}),(0,u.jsx)("div",{children:'<a href="http://b.com?data=1" target="_blank" />'})]}),(0,u.jsxs)("div",{className:f,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.codeBox2.text"}))}),(0,u.jsx)("div",{children:"<script>"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:'var data = window.location.href.split("?")[1].split("=")[1];'}),(0,u.jsx)("div",{children:"<script>"})]}),(0,u.jsx)("div",{children:"".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.des2"}),":")}),(0,u.jsxs)("div",{className:f,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.pageA"}))}),(0,u.jsx)("div",{children:"<script>"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:'window.open("http://b.com?data=1", "_blank");'}),(0,u.jsx)("div",{children:"<script>"})]}),(0,u.jsx)("div",{className:j,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des3"})})]})]})})},y=e=>{const a=(0,t.A)(),{showPageIndex:i}=e;return(0,u.jsx)("div",{className:l,children:(0,u.jsx)("div",{className:o,children:(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("div",{className:v,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.subTitle2"})}),(0,u.jsx)("div",{children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des4"})}),(0,u.jsxs)("div",{className:f,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.pageA"}))}),(0,u.jsx)("div",{children:"<script>"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:'var popup = window.open("http://b.com", "_blank");'}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"if(popup){"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"setTimeout(function(){"}),(0,u.jsx)("div",{style:{paddingLeft:"60px"},children:"var data = {data: 1};"}),(0,u.jsx)("div",{style:{paddingLeft:"60px"},children:'popup.postMessage(JSON.stringify(data), "http://b.com");'}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"},500);"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"}"}),(0,u.jsx)("div",{children:"<script>"})]}),(0,u.jsxs)("div",{className:f,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.pageB"}))}),(0,u.jsx)("div",{children:"<script>"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"function receiveMessage(event){"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:'if (event.origin !== "http://a.com") return;'}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"console.log(JSON.parse(event.data)); // {data: 1}"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"}"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:'window.addEventListener("message", receiveMessage, false);'}),(0,u.jsx)("div",{children:"<script>"})]})]})})})},N=e=>{const a=(0,t.A)(),{showPageIndex:i}=e;return(0,u.jsx)("div",{className:l,children:(0,u.jsx)("div",{className:o,children:(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("div",{children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des5"})}),(0,u.jsxs)("div",{className:f,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.pageA"}))}),(0,u.jsx)("div",{children:'<iframe id="myIframe" src="http://b.com" />'}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{children:"<script>"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:'var myIframe = document.getElementById("myIframe");'}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"if (myIframe) {"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"var data = {data: 1};"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:'myIframe.contentWindow.postMessage(JSON.stringify(data), "http://b.com");'}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"}"}),(0,u.jsx)("div",{children:"<script>"})]}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:j,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des6"})}),(0,u.jsx)("div",{className:j,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des7"})}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:j,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des8"})})]})})})},_=e=>{const a=(0,t.A)(),{showPageIndex:i}=e;return(0,u.jsx)("div",{className:l,children:(0,u.jsx)("div",{className:o,children:(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("div",{className:v,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.subTitle3"})}),(0,u.jsx)("div",{children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des9"})}),(0,u.jsxs)("div",{className:f,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.pageA"}))}),(0,u.jsx)("div",{children:'<span onClick="toB();">Jump</span>'}),(0,u.jsx)("div",{children:'<iframe id="myIframe" src="http://b.com" style="display: none" />'}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{children:"<script>"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"function toB(){"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:'var myIframe = document.getElementById("myIframe");'}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"if (myIframe) {"}),(0,u.jsx)("div",{style:{paddingLeft:"60px"},children:"var data = {data: 1};"}),(0,u.jsx)("div",{style:{paddingLeft:"60px"},children:'myIframe.contentWindow.postMessage(JSON.stringify(data), "http://b.com");'}),(0,u.jsx)("div",{style:{paddingLeft:"60px"},children:'window.open("http://b.com", "_blank");'}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"}"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"}"}),(0,u.jsx)("div",{children:"<script>"})]})]})})})},w=e=>{const a=(0,t.A)(),{showPageIndex:i}=e;return(0,u.jsx)("div",{className:l,children:(0,u.jsx)("div",{className:o,children:(0,u.jsxs)("div",{className:x,children:[(0,u.jsxs)("div",{className:f,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.pageB"}))}),(0,u.jsx)("div",{children:"<script>"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"var aData = localStorage.getItem(“aPageData”);"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"if(aData){"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"doSomething(aData); // ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.codeBox3.text"}))}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"localStorage.removeItem(“aPageData”);"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"}else{"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"window.addEventListener(“message”, receiveMessage, false);"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"}"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"function receiveMessage(event){"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"if (event.origin !== “http://a.com”) return;"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"if(event.data){"}),(0,u.jsx)("div",{style:{paddingLeft:"60px"},children:"localStorage.setItem(“aPageData”, event.data);"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"}"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"}"}),(0,u.jsx)("div",{children:"<script>"})]}),(0,u.jsx)("div",{className:j,children:"".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.des10"}),": ")}),(0,u.jsx)("div",{className:j,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des11"})}),(0,u.jsx)("div",{className:j,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des12"})})]})})})},L="AppPageFrame_container__pjrxk",F="AppPageFrame_content__VqApo",M="AppPageFrame_firstPage__vOVdI",T="AppPageFrame_head__gE2DM",V="AppPageFrame_left__Efl5l",I="AppPageFrame_logo__8Jwal",b="AppPageFrame_appName__0-Afb",A="AppPageFrame_right__gUcB6",k="AppPageFrame_btn__BkWG7",S=100;var B=function(e){return e[e.next=0]="next",e[e.prev=1]="prev",e}(B||{});const E=()=>{const e=(0,t.A)(),{menuWidth:a,headHeight:i}=(0,c.S)(),l=(0,s.useRef)(null),o=(0,s.useRef)(null),[p,g]=(0,s.useState)(0),[m,h]=(0,s.useState)(0),x=(0,s.useRef)(null),v=(0,s.useRef)(!1),[f,j]=(0,s.useState)(0),E=(0,s.useRef)(!1),D=(0,s.useRef)(0),C=(0,s.useRef)(""),[R,O]=(0,s.useState)(0),[q,J]=(0,s.useState)(0),z=(0,s.useRef)(0),W=()=>{if(l.current){const e=d.findDOMNode(l.current),a=e.scrollTop;if("toTop"===C.current)if(e.scrollTop<p-S){const i=Math.min(a+25,p-S);v.current=!0,e.scrollTop=i,j(i),D.current=window.requestAnimationFrame(W)}else C.current="",v.current=!1,E.current=!1;else if("toBottom"===C.current)if(e.scrollTop>0){const i=Math.max(a-25,0);v.current=!0,e.scrollTop=i,j(i),D.current=window.requestAnimationFrame(W)}else C.current="",v.current=!1,E.current=!1}},H=()=>{E.current=!0,C.current||(C.current="toTop",O(1),D.current=window.requestAnimationFrame(W))},U=(0,r.A)((e=>{if(x.current){switch(e){case B.next:x.current.slideNext();break;case B.prev:x.current.slidePrev()}const a=d.findDOMNode(l.current),i=x.current.realIndex;if(i<=0)a.scrollTop!==p-S&&(v.current=!0,a.scrollTop=p-S,j(p-S));else{const e=(p-S)*(i+1);a.scrollTop!==e&&(v.current=!0,a.scrollTop=e,j(e))}}}),{wait:100}),G=(0,r.A)((e=>{v.current?v.current=!1:E.current||e.target.className===L&&(x.current?e.target.scrollTop>p-S?e.target.scrollTop>f?U.run(B.next):e.target.scrollTop<f&&U.run(B.prev):e.target.scrollTop>f&&f<p-S?H():e.target.scrollTop<f&&(E.current=!0,C.current||(C.current="toBottom",O(0),D.current=window.requestAnimationFrame(W))):j(e.target.scrollTop))}),{wait:100});(0,s.useEffect)((()=>{if(l.current){const e=document.body.clientHeight-i;g(e);h(5*(e-S))}}),[q,i]);const Q=()=>{z.current>=1e4?(z.current=0,J(0)):(z.current=z.current+1,J(z.current+1))};(0,s.useEffect)((()=>(window.addEventListener("resize",Q),()=>{window.removeEventListener("resize",Q)})),[]),(0,s.useEffect)((()=>{const e=new n.Ay(".swiper",{direction:"vertical",speed:1e3,loop:!1,simulateTouch:!1,keyboard:{enabled:!0,onlyInViewport:!0},on:{slideChange:function(){O(this.activeIndex+1)}}});x.current=e}),[]);const Y=e=>{const a=d.findDOMNode(l.current);switch(e){case"SecondPage":const e=1*(p-S);x.current&&x.current.activeIndex>0?(v.current=!0,a.scrollTop=e,j(e),x.current.slideTo(0)):f!==e&&H();break;case"ThirdPage":const t=2*(p-S);var i;if(f!==t)v.current=!0,a.scrollTop=t,j(t),null===(i=x.current)||void 0===i||i.slideTo(1);break;case"LastPage":const d=4*(p-S);var s;if(f!==d)v.current=!0,a.scrollTop=d,j(d),null===(s=x.current)||void 0===s||s.slideTo(3)}};return(0,u.jsxs)("div",{className:L,onScrollCapture:G.run,ref:l,children:[(0,u.jsxs)("div",{className:F,style:m?{height:"".concat(m,"px")}:{},ref:o,children:[(0,u.jsx)("div",{className:M,style:p?{height:"".concat(p,"px")}:{},children:(0,u.jsx)(P,{showPageIndex:R})}),(0,u.jsx)("div",{className:"swiper",style:p?{height:"".concat(p-S,"px")}:{},children:(0,u.jsxs)("div",{className:"swiper-wrapper",children:[(0,u.jsx)("div",{className:"swiper-slide",children:(0,u.jsx)(y,{showPageIndex:R})}),(0,u.jsx)("div",{className:"swiper-slide",children:(0,u.jsx)(N,{showPageIndex:R})}),(0,u.jsx)("div",{className:"swiper-slide",children:(0,u.jsx)(_,{showPageIndex:R})}),(0,u.jsx)("div",{className:"swiper-slide",children:(0,u.jsx)(w,{showPageIndex:R})})]})})]}),(0,u.jsxs)("div",{className:T,style:f>=p-S?{borderBottom:"1px solid #999",left:"".concat(a,"px"),width:"calc(100% - ".concat(a,"px)")}:{left:"".concat(a,"px"),width:"calc(100% - ".concat(a,"px)")},children:[(0,u.jsxs)("div",{className:V,children:[(0,u.jsx)("div",{className:I,children:"L"}),(0,u.jsx)("span",{className:b,children:"App Name"})]}),(0,u.jsxs)("div",{className:A,children:[(0,u.jsx)("div",{className:k,onClick:()=>Y("SecondPage"),children:e.formatMessage({id:"page.htmlVision.applicationPageFrame.secondPage"})}),(0,u.jsx)("div",{className:k,onClick:()=>Y("ThirdPage"),children:e.formatMessage({id:"page.htmlVision.applicationPageFrame.thirdPage"})}),(0,u.jsx)("div",{className:k,onClick:()=>Y("LastPage"),children:e.formatMessage({id:"page.htmlVision.applicationPageFrame.lastPage"})})]})]})]})}}}]);